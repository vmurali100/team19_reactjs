<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      label {
        width: 60px;
        display: inline-block;
        margin: 4px;
      }
      #addbtn {
        margin: 10px 10px 10px 0;
      }
      #updbtn {
        display: none;
      }
    </style>
  </head>
  <body>
    <form>
      <label for="">fname:</label>
      <input type="text" id="fname" /> <br />
      <label for="">lname:</label>
      <input type="text" id="lname" /> <br />
      <label for="">tel:</label>
      <input type="text" id="tel" /> <br />
      <label for="">address:</label>
      <input type="text" id="address" /> <br />
      <label for="">city:</label>
      <input type="text" id="city" /> <br />
      <label for="">state:</label>
      <input type="text" id="state" /> <br />
      <label for="">zip:</label>
      <input type="number" id="zip" /> <br />
    </form>

    <button onclick="AddUser()" type="button" id="addbtn">Add User</button>
    <button onclick="UpdateUser()" type="button" id="updbtn">
      Update User
    </button>
    <table border="4">
      <thead>
        <tr>
          <th>fname</th>
          <th>lname</th>
          <th>tel</th>
          <th>address</th>
          <th>city</th>
          <th>state</th>
          <th>zip</th>
          <th>Edit</th>
          <th>delete</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <script>
        var gindex=null;
      var Users = [
        {
          fname: "Timika",
          lname: "Tubbytelly",
          tel: "(770)128-5446",
          address: "8265 Dui Dr",
          city: "Hagerstown",
          state: "GA",
          zip: "19657",
        },
        {
          fname: "Wayne",
          lname: "Cheronecook",
          tel: "(209)624-1150",
          address: "3253 Sed Ct",
          city: "New Port Richey",
          state: "ID",
          zip: "64915",
        },
        {
          fname: "Hazel",
          lname: "Schuessler",
          tel: "(635)558-0776",
          address: "6051 Sapien St",
          city: "Camas",
          state: "MS",
          zip: "39402",
        },
        {
          fname: "Mickey",
          lname: "Hensley",
          tel: "(286)752-8750",
          address: "4412 Tincidunt Dr",
          city: "Johnson County",
          state: "SC",
          zip: "19506",
        },
        {
          fname: "Joaquin",
          lname: "Hunt",
          tel: "(356)572-3189",
          address: "2314 Consectetur Rd",
          city: "Cranford",
          state: "AK",
          zip: "46526",
        },
        {
          fname: "Lois",
          lname: "Bliss",
          tel: "(508)864-8877",
          address: "2327 Sed Ct",
          city: "Hampstead",
          state: "IA",
          zip: "34749",
        },
      ];

      function displayUsers() {
        document.querySelector("tbody").innerHTML="";

        for (var i = 0; i < Users.length; i++) {
          var myrow = document.createElement("tr");
          for (u in Users[i]) {
            var mytd = document.createElement("td");
            mytd.innerHTML = Users[i][u];
            myrow.appendChild(mytd);
          }

          // editbutton

          var edittd = document.createElement("td");
          var editbtn = document.createElement("button");
          editbtn.innerHTML = "Edit";
          edittd.appendChild(editbtn);
          myrow.appendChild(edittd);
          editbtn.setAttribute("onClick", "edituser(" + i + ")");

          // deletebutton
          var deltd = document.createElement("td");
          var delbtn = document.createElement("button");
          delbtn.innerHTML = "Delete";
          deltd.appendChild(delbtn);
          myrow.appendChild(deltd);
          delbtn.setAttribute("onClick", "deleteuser(" + i + ")");


          document.querySelector("tbody").appendChild(myrow);
        }
      }
      displayUsers();

      // adduser

      function AddUser() {
        var addinguser = {
          fname: document.getElementById("fname").value,
          lname: document.getElementById("lname").value,
          tel: document.getElementById("tel").value,
          address: document.getElementById("address").value,
          city: document.getElementById("city").value,
          state: document.getElementById("state").value,
          zip: document.getElementById("zip").value,
        };
        Users.push(addinguser);
        displayUsers();
      }

      //delete user

      function deleteuser(i){
        Users.splice(i,1);
        displayUsers();
      }


      //edit user

       function edituser(index){
        gindex=index;
        console.log(Users[gindex]);
        var user=Users[gindex];
        document.getElementById("fname").value = user.fname;
        document.getElementById("lname").value = user.lname;
        document.getElementById("tel").value = user.tel;
        document.getElementById("address").value = user.address;
        document.getElementById("city").value = user.city;
        document.getElementById("state").value = user.state;
        document.getElementById("zip").value = user.zip;
        
        document.getElementById("addbtn").style.display = "none";
        document.getElementById("updbtn").style.display = "block";
       }

       // update user

       function UpdateUser(){
        var object1 = {
          fname: document.getElementById("fname").value,
          lname: document.getElementById("lname").value,
          tel: document.getElementById("tel").value,
          address: document.getElementById("address").value,
          city: document.getElementById("city").value,
          state: document.getElementById("state").value,
          zip: document.getElementById("zip").value,
        };
        Users.push(object1);
        displayUsers();
        clearusers();
       }

       function clearusers(){
        document.getElementById("fname").value = "";
        document.getElementById("lname").value = "";
        document.getElementById("tel").value = "";
        document.getElementById("address").value = "";
        document.getElementById("city").value = "";
        document.getElementById("state").value = "";
        document.getElementById("zip").value = "";
       }




    </script>
  </body>
</html>
