<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      label {
        width: 60px;
        display: inline-block;
        margin: 4px;
      }
      #addbtn {
        margin: 10px 10px 10px 0;
      }
      #updbtn {
        display: none;
      }
    </style>
  </head>
  <body>
    <form>
      <label for="">fname:</label>
      <input type="text" id="fname" /> <br />
      <label for="">lname:</label>
      <input type="text" id="lname" /> <br />
      <label for="">tel:</label>
      <input type="text" id="tel" /> <br />
      <label for="">address:</label>
      <input type="text" id="address" /> <br />
      <label for="">city:</label>
      <input type="text" id="city" /> <br />
      <label for="">state:</label>
      <input type="text" id="state" /> <br />
      <label for="">zip:</label>
      <input type="number" id="zip" /> <br />
    </form>

    <button onclick="AddUser()" type="button" id="addbtn">Add User</button>
    <button onclick="UpdateUser()" type="button" id="updbtn">
      Update User
    </button>
    <table border="1">
      <thead>
        <tr>
          <th>fname</th>
          <th>lname</th>
          <th>tel</th>
          <th>address</th>
          <th>city</th>
          <th>state</th>
          <th>zip</th>
          <th>Edit</th>
          <th>delete</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <script>
      var gindex = null;
      var Users = [
        {
          fname: "Timika",
          lname: "Tubbytelly",
          tel: "(770)128-5446",
          address: "8265 Dui Dr",
          city: "Hagerstown",
          state: "GA",
          zip: "19657",
        },
        {
          fname: "Wayne",
          lname: "Cheronecook",
          tel: "(209)624-1150",
          address: "3253 Sed Ct",
          city: "New Port Richey",
          state: "ID",
          zip: "64915",
        },
        {
          fname: "Hazel",
          lname: "Schuessler",
          tel: "(635)558-0776",
          address: "6051 Sapien St",
          city: "Camas",
          state: "MS",
          zip: "39402",
        },
        {
          fname: "Mickey",
          lname: "Hensley",
          tel: "(286)752-8750",
          address: "4412 Tincidunt Dr",
          city: "Johnson County",
          state: "SC",
          zip: "19506",
        },
        {
          fname: "Joaquin",
          lname: "Hunt",
          tel: "(356)572-3189",
          address: "2314 Consectetur Rd",
          city: "Cranford",
          state: "AK",
          zip: "46526",
        },
        {
          fname: "Lois",
          lname: "Bliss",
          tel: "(508)864-8877",
          address: "2327 Sed Ct",
          city: "Hampstead",
          state: "IA",
          zip: "34749",
        },
        {
          fname: "Marie",
          lname: "Kamradt",
          tel: "(468)943-4008",
          address: "3719 Eget Ave",
          city: "Eglin Afb",
          state: "IL",
          zip: "11416",
        },
        {
          fname: "D'Juan",
          lname: "Forgey",
          tel: "(589)073-5573",
          address: "4465 Sed Dr",
          city: "Conehatta",
          state: "IN",
          zip: "82407",
        },
      ];

      function displayUsers() {
        document.querySelector("tbody").innerHTML = "";
        for (var i = 0; i < Users.length; i++) {
          var myrow = document.createElement("tr");
          for (u in Users[i]) {
            var mytd = document.createElement("td");
            mytd.innerHTML = Users[i][u];
            myrow.appendChild(mytd);
          }

          // editbtn
          var editd = document.createElement("td");
          var editbtn = document.createElement("button");
          editbtn.innerHTML = "Edit";
          editd.appendChild(editbtn);
          myrow.appendChild(editd);
          editbtn.setAttribute("onclick", "edituser(" + i + ")");

          // deletebtn
          var deltd = document.createElement("td");
          var delbtn = document.createElement("button");
          delbtn.innerHTML = "delete";
          deltd.appendChild(delbtn);
          delbtn.setAttribute("onclick", "deleteuser(" + i + ")");
          myrow.appendChild(deltd);

          document.querySelector("tbody").appendChild(myrow);
        }
      }

      // deleteuser

      function deleteuser(i) {
        Users.splice(i, 1);
        displayUsers();
      }
      displayUsers();

      // edit users

      function edituser(index) {
        gindex = index;
        console.log(Users[gindex]);
        var User = Users[gindex];
        document.getElementById("fname").value = User.fname;
        document.getElementById("lname").value = User.lname;
        document.getElementById("tel").value = User.tel;
        document.getElementById("address").value = User.address;
        document.getElementById("city").value = User.city;
        document.getElementById("state").value = User.state;
        document.getElementById("zip").value = User.zip;

        document.getElementById("addbtn").style.display = "none";
        document.getElementById("updbtn").style.display = "block";
      }

      // updateuser

      function UpdateUser() {
        var user1 = {
          fname: document.getElementById("fname").value,
          lname: document.getElementById("lname").value,
          tel: document.getElementById("tel").value,
          address: document.getElementById("address").value,
          city: document.getElementById("city").value,
          state: document.getElementById("state").value,
          zip: document.getElementById("zip").value,
        };
        document.getElementById("addbtn").style.display="block";
        document.getElementById("updbtn").style.display="none";

        Users[gindex] = user1;
        displayUsers();
        clearusers();
      }

      // clearusers

      function clearusers() {
        document.getElementById("fname").value = "";
        document.getElementById("lname").value = "";
        document.getElementById("tel").value = "";
        document.getElementById("address").value = "";
        document.getElementById("city").value = "";
        document.getElementById("state").value = "";
        document.getElementById("zip").value = "";
      };

      function AddUser(){
        var addinguser={
          fname: document.getElementById("fname").value,
          lname: document.getElementById("lname").value,
          tel: document.getElementById("tel").value,
          address: document.getElementById("address").value,
          city: document.getElementById("city").value,
          state: document.getElementById("state").value,
          zip: document.getElementById("zip").value,
        }
        Users.push(addinguser);
        displayUsers();
        clearusers();


      }
    </script>
  </body>
</html>
